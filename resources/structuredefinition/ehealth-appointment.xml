<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="ehealth-appointment" />
  <url value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-appointment" />
  <name value="ehealth-appointment" />
  <title value="eHealth Appointment" />
  <status value="draft" />
  <publisher value="ehealth.sundhed.dk" />
  <description value="This profile models an ehealth appointment. It is only necessary to create one appointment even though it spans more than one participant. Allowed appointment participants are patients, practitioners, relatedpersons, and locations" />
  <fhirVersion value="3.0.1" />
  <kind value="resource" />
  <abstract value="false" />
  <type value="Appointment" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Appointment" />
  <derivation value="constraint" />
  <differential>
    <element id="Appointment">
      <path value="Appointment" />
      <short value="A booking of a healthcare event among patient(s), practitioner(s), related person(s) and/or device(s) for a specific date/time. This may result in one or more Encounter(s)." />
      <definition value="A booking of a healthcare event among patient(s), practitioner(s), related person(s) and/or device(s) for a specific date/time. This may result in one or more Encounter(s)" />
    </element>
    <element id="Appointment.extension">
      <path value="Appointment.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Appointment.extension:responsible">
      <path value="Appointment.extension" />
      <sliceName value="responsible" />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-responsible" />
      </type>
    </element>
    <element id="Appointment.appointmentType">
      <path value="Appointment.appointmentType" />
      <min value="1" />
      <binding>
        <strength value="extensible" />
        <valueSetUri value="http://ehealth.sundhed.dk/vs/appointmenttype-codes" />
      </binding>
    </element>
    <element id="Appointment.reason">
      <path value="Appointment.reason" />
      <max value="1" />
      <binding>
        <strength value="preferred" />
        <valueSetUri value="http://hl7.org/fhir/ValueSet/encounter-reason" />
      </binding>
    </element>
    <element id="Appointment.reason.coding">
      <path value="Appointment.reason.coding" />
      <binding>
        <strength value="required" />
        <valueSetUri value="http://ehealth.sundhed.dk/vs/appointment-reason" />
      </binding>
    </element>
    <element id="Appointment.indication">
      <path value="Appointment.indication" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Condition" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Procedure" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Appointment.supportingInformation">
      <path value="Appointment.supportingInformation" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Resource" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Appointment.slot">
      <path value="Appointment.slot" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Slot" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Appointment.incomingReferral">
      <path value="Appointment.incomingReferral" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/ReferralRequest" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Appointment.participant">
      <path value="Appointment.participant" />
      <min value="2" />
    </element>
    <element id="Appointment.participant.actor">
      <path value="Appointment.participant.actor" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-patient" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-practitioner" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-relatedperson" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Location" />
      </type>
    </element>
  </differential>
</StructureDefinition>