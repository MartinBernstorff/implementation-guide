<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="ehealth-consent" />
  <url value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-consent" />
  <name value="ehealth-consent" />
  <title value="eHealth Consent" />
  <status value="draft" />
  <publisher value="ehealth.sundhed.dk" />
  <fhirVersion value="3.0.1" />
  <kind value="resource" />
  <abstract value="false" />
  <type value="Consent" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Consent" />
  <derivation value="constraint" />
  <differential>
    <element id="Consent">
      <path value="Consent" />
      <short value="Used to express a Consent regarding Healthcare." />
    </element>
    <element id="Consent.category">
      <path value="Consent.category" />
      <short value="Type of the consent statement" />
      <definition value="Type of consent. E.g. &quot;Send address information to SSL provider&quot;. The Category can implicitly specify both action and data. In this example data is address information for the related Patient and the action is sending the address to an SSL provider.&#xD;&#xA;&#xD;&#xA;The infrastructure will enforce consent rules based on the category." />
      <min value="1" />
    </element>
    <element id="Consent.category.coding">
      <path value="Consent.category.coding" />
      <binding>
        <strength value="required" />
        <description value="Value set of kinds of consents." />
        <valueSetUri value="http://ehealth.sundhed.dk/vs/consent-category" />
      </binding>
    </element>
    <element id="Consent.patient">
      <path value="Consent.patient" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-patient" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Consent.period">
      <path value="Consent.period" />
      <min value="1" />
    </element>
    <element id="Consent.period.start">
      <path value="Consent.period.start" />
      <min value="1" />
    </element>
    <element id="Consent.consentingParty">
      <path value="Consent.consentingParty" />
      <definition value="Patient or related person (e.g. guardian) consenting on behalf of the patient.&#xD;&#xA;Receiving organisation of the consent." />
      <comment value="Commonly, the patient the consent pertains to is the consentor, but particularly for young and old people, it may be some other person - e.g. a legal guardian.&#xD;&#xA;&#xD;&#xA;Patient or related person (eg guardian) consenting on behalf of the patient.&#xD;&#xA;Receiving organisation of the consent." />
      <min value="1" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-organization" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-patient" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-practitioner" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-relatedperson" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Consent.actor">
      <path value="Consent.actor" />
      <comment value="Careteam/organisation that is authorized to forward information by this consent." />
      <min value="1" />
    </element>
    <element id="Consent.actor.reference">
      <path value="Consent.actor.reference" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-device" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Group" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-careteam" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-organization" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-patient" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-practitioner" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-relatedperson" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Consent.organization">
      <path value="Consent.organization" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-organization" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Consent.source[x]">
      <path value="Consent.source[x]" />
      <type>
        <code value="Attachment" />
      </type>
      <type>
        <code value="Identifier" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-consent" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/DocumentReference" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Contract" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-questionnaireresponse" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Consent.data">
      <path value="Consent.data" />
      <definition value="The resources controlled by this consent, if specific resources are referenced.&#xD;&#xA;&#xD;&#xA;The infrastructure will enforce consent rules based on the EpisodeOfCare." />
      <min value="1" />
    </element>
    <element id="Consent.data.reference">
      <path value="Consent.data.reference" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-episodeofcare" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Consent.except.actor.reference">
      <path value="Consent.except.actor.reference" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-device" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Group" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-careteam" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-organization" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-patient" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-practitioner" />
        <aggregation value="referenced" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-relatedperson" />
        <aggregation value="referenced" />
      </type>
    </element>
    <element id="Consent.except.data.reference">
      <path value="Consent.except.data.reference" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Resource" />
        <aggregation value="referenced" />
      </type>
    </element>
  </differential>
</StructureDefinition>